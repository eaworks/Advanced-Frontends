<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deep Sea Creatures Solution</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100..700;1,100..700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="css/main.css">
</head>

<body>
    <div class="outer">
        <div class="slider">
            <section>
                <div class="inner">
                    <img src="fish1.png" alt="LUMIFIN FISH">
                    <div class="content">
                        <h1>LUMIFIN</h1>
                        <p>The Lumifin is a bioluminescent fish that boasts wing-like fins which emit soft, pulsating
                            glows, illuminating the ocean's deepest crevices. Its long, ribbon-like tail acts as a
                            rudder, allowing it to dance gracefully among the underwater currents. </p>
                    </div>
                </div>
            </section>
            <section>
                <div class="inner">
                    <img src="fish2.png" alt="NYXEL TENTACLEA">
                    <div class="content">
                        <h1>NYXEL TENTACLEA</h1>
                        <p>The Nyxel Tentaclea is a deep-sea cephalopod cloaked in inky blackness, with dozens of
                            slender, retractable tentacles covered in tiny phosphorescent dots that mimic the night sky.
                            When threatened, it releases a cloud of shimmering, starlit. ink, dazzling its predators</p>
                    </div>
                </div>
            </section>
            <section>
                <div class="inner">
                    <img src="fish3.png" alt="ABYSSAL SPIREJAW">
                    <div class="content">
                        <h1>ABYSSAL SPIREJAW</h1>
                        <p>Residing in the deepest ocean trenches, the Abyssal Spirejaw has a liafsluceit, spirel-shaped
                            body. culminating in a jaw that resembles twisted spires, allowing it to snag and swallow
                            unsuspecting prey</p>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <div class="fish-container">
        <img src="fish4.png" alt="Animated vector fish" data-distance="80">
        <img src="fish4.png" alt="Animated vector fish" data-distance="200">
        <img src="fish4.png" alt="Animated vector fish" data-distance="300">
        <img src="fish4.png" alt="Animated vector fish" data-distance="140">
        <img src="fish4.png" alt="Animated vector fish" data-distance="40">
        <img src="fish4.png" alt="Animated vector fish" data-distance="210">
        <img src="fish4.png" alt="Animated vector fish" data-distance="190">
        <img src="fish4.png" alt="Animated vector fish" data-distance="155">
        <img src="fish4.png" alt="Animated vector fish" data-distance="80">
        <img src="fish4.png" alt="Animated vector fish" data-distance="58">
        <img src="fish4.png" alt="Animated vector fish" data-distance="227">
    </div>

    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>
    <script src="https://unpkg.com/@studio-freight/lenis@1.0.33/dist/lenis.min.js"></script>
    <script>

        const slider = document.querySelector('.slider')
        const sections = gsap.utils.toArray(".slider section")
        const fishies = gsap.utils.toArray(".fish-container img")

        let tl = gsap.timeline({
            defaults: {
                ease: "none"
            },
            scrollTrigger: {
                trigger: slider,
                pin: true,
                scrub: 2,
                end: () => "+=" + slider.offsetWidth
            }
        })

        tl.to(slider, {
            xPercent: -66
        }, "<")

        sections.forEach((stop, index) => {
            tl
                .from(stop.querySelector('.content'), {
                    yPercent: -50,
                    opacity: 0,
                    scrollTrigger: {
                        trigger: stop.querySelector('.content'),
                        start: "left center",
                        end: "center center",
                        containerAnimation: tl,
                        scrub: true,
                        markers: true
                    }
                })
                .from(stop.querySelector('img'), {
                    xPercent: 40,
                    yPercent: -100,
                    ease: 'elastic.out(1,1)',
                    scrollTrigger: {
                        trigger: stop.querySelector('img'),
                        scrub: 2,
                        containerAnimation: tl
                    }
                }, "<")
        })

        fishies.forEach((fish, i) => {
            gsap.from(fish, {
                xPercent: fish.dataset.distance,
                scrollTrigger: {
                    scrub: 0.3
                }
            })
        })

        // smooth scroll
        const lenis = new Lenis()
        function raf(time) {
            lenis.raf(time)
            requestAnimationFrame(raf)
        }
        requestAnimationFrame(raf)

    </script>
</body>

</html>